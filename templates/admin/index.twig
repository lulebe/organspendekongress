{% extends "base.twig" %}

{% block title %}Admin{% endblock %}

{% block content %}
  
  <div class="main-wrapper">
    <h1>Workshops</h1>
    <p>Registrierte Teilnehmer: {{userCount}}</p>
    <ul class="workshop-list-admin">
      {% for ws in workshops %}
        <li>
          Slot {{ws.slot}}: <strong>{{ws.title}}</strong> - {{ws.free}}/{{ws.maxPeople}} freie Plätze.
          <a href="/admin/addworkshop?id={{ws.id}}">Details</a>
        </li>
      {% endfor %}
    </ul>
    <a href="/admin/addworkshop">Workshop eintragen</a><br><br>
    <a href="/admin/workshopexport" target="_blank">Teilnehmerliste herunterladen</a>
  </div>

  <div class="main-wrapper">
    Momentan ist die Workshopanmeldung {% if workshopsopen %}geöffnet{% else %}geschlossen{% endif %}.
    <br><br>
    <a href="/admin/toggleworkshopsopen">Anmeldung jetzt {% if workshopsopen %}schließen{% else %}öffnen{% endif %}</a>
    <br><br>
    Momentan ist die Workshopanmeldung {% if workshopsrestricted %}beschränkt{% else %}unbeschränkt{% endif %}.
    <br><br>
    <a href="/admin/toggleworkshopsrestricted">{% if workshopsrestricted %}Beschränkung aufheben{% else %}Anmeldung beschränken{% endif %}</a>
    <p>
      Beschränkung heißt, dass eine Anmeldung nur in Workshops möglich ist, die als "Anmeldung erlaubt, wenn beschränkt" markiert sind.
      Dies kann in den Workshopdetails eingestellt werden.
    </p>
  </div>

  <div class="main-wrapper">
    <h3>Infokasten bearbeiten</h3>
    <a href="/admin/editmd">Infokasten bearbeiten</a>
  </div>

{% endblock %}
